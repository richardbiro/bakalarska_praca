\documentclass[12pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[slovak]{babel}

\usepackage{amsfonts} 
% Use the graphicx package for including images
\usepackage{graphicx}

% Use the hyperref package for clickable links within document
% and to webpages
\usepackage{hyperref}

\usepackage{listings}
\lstset{language=Python}

%Use this package for theorems and proofs
\usepackage{amsthm}
\newtheorem{theorem}{Theorem}

\usepackage{mathtools}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}


% Start the text
\begin{document}

\textbf{Duplikačná lema}: Nech $a,b,c,d \in \mathbb{N^+}$, pre ktoré platí $a + b = c + d$ a buď $a^2 + b^2 = c^2 + d^2$, alebo $ab = cd$. Potom $c = a$ alebo $c = b$. \\
 
\textbf{Dôkaz}: Z prvej rovnice vyjadríme $d = a + b - c$ a dosadíme do rovnice $a^2 + b^2 = c^2 + d^2$ alebo do rovnice $ab = cd$. Po úprave dostaneme vzťah $c^2 - ac - bc + ab = 0$, ktorý sa dá prepísať na tvar $(c - a)(c - b) = 0$. Z toho vyplýva $c = a$ alebo $c = b$. \\\\

\textbf{Mocninová lema}: Nech $n \in \mathbb{N}$. Nech $a_1, ... , a_n , b$ sú navzájom rôzne kladné celé čísla. Potom nasledovná sústava nemá riešenie: \\
$\sum_{k=1}^{n} a_k = b$ \\
$\sum_{k=1}^{n} a^2_k = b^2$ \\

\textbf{Dôkaz}: Rozoberieme tri situácie na základe $n$. \\

Ak $n = 0$, tak by platilo $b = 0$, čo je spor s tým, že $b$ je kladné. \\

Ak $n = 1$, tak by platilo $a_1 = b$, čo je spor s tým, že sú navzájom rôzne. \\

Ak $n \geq 2$, tak dosadením $b$ do druhej rovnice dostaneme nutný vzťah $\sum_{k=1}^{n} a^2_k = (\sum_{k=1}^{n} a_k)^2$, čo sa dá upraviť na tvar $\sum_{i \neq j} a_i a_j = 0$. To je spor, keďže každé $a_i$ aj $a_j$ je kladné, a teda ich súčet nemôže byť nulový. \\\\

\textbf{Posunová lema}: Nech $n \in \mathbb{N}$. Nech $a_1, ... , a_n, b_1, ... , b_n \in \mathbb{N}$. Ak $\sum_{k=1}^{n} a_k = \sum_{k=1}^{n} b_k$ aj $\sum_{k=1}^{n} a^2_k = \sum_{k=1}^{n} b^2_k$, potom pre všetky $x \in \mathbb{Z}$ platí: \\
(i) $\sum_{k=1}^{n} (a_k + x) = \sum_{k=1}^{n} (b_k + x)$ \\
(ii) $\sum_{k=1}^{n} (a_k + x)^2 = \sum_{k=1}^{n} (b_k + x)^2$ \\\\
 
\textbf{Dôkaz}: \\
(i) $\sum_{k=1}^{n} (a_k + x) = \sum_{k=1}^{n} a_k + nx = \sum_{k=1}^{n} b_k + nx = \sum_{k=1}^{n} (b_k + x)$ \\
(ii) $\sum_{k=1}^{n} (a_k + x)^2 = \sum_{k=1}^{n} a^2_k + 2x \sum_{k=1}^{n} a_k + nx^2 = \sum_{k=1}^{n} b^2_k + 2x \sum_{k=1}^{n} b_k + nx^2 = \sum_{k=1}^{n} (b_k + x)^2$ \\\\\\

\textbf{Normálne formy bimagických regulárnych útvarov}: \\

Útvar je bimagický ak je magický a umocnením každého jeho prvku na druhú dostaneme opäť magický útvar. \\

Útvar je regulárny ak všetky jeho priamky s magickou vlastnosťou majú rovnaký počet prvkov. \\

Bimagické regulárne útvary sú zjavne uzavreté na nenulový násobok a sú uzavreté aj na konštantný posun (to vyplýva z posunovej lemy). \\

Z toho vyplýva, že ak $X$ je bimagický regulárny útvar, tak $aX+b ~|~ a,b \in \mathbb{Z}, a \neq 0$ je bimagický regulárny útvar s potenciálne nekladnými prvkami. Tým vieme vytvárať tzv. normálne formy bimagických útvarov. Nech $n$ je veľkosť daného útvaru. Potom: \\
1) útvar, ktorého najmenší prvok je $0$: zvolíme $a = 1, b = - x_{min}$, kde $x_{min}$ je najmenši prvok pôvodného útvaru \\
2) útvar, ktorého najmenší prvok je $1$: zvolíme $a = 1, b = 1 - x_{min}$ \\
3) útvar, ktorého najmenší prvok má opačnú hodnotu ako najväčší prvok: zvolíme $a = -2, b = x_{min} + x_{max}$ \\
4) útvar, ktorého magický súčet je $0$: zvolíme $a = -n, b = S$, kde $S$ je magický súčet pôvodného útvaru \\
5) útvar, ktorého magický súčet je rovný danému prvku $x$: zvolíme $a = 1-n, b = S-x$ \\
6) útvar, ktorého bimagický súčet je rovný $5x^2$ pre daný prvok $x$: za predpokladu $S \neq nx$ zvolíme $a = 2(nx - S), b = T - nx^2$ \\\\


\textbf{Definícia 1}: Nech $G$ je súvislý jednoduchý netriviálny graf. Ak existuje vrcholové ohodnotenie grafu $G$ také, že platí: \\
1. vrcholom sú priradené navzájom rôzne kladné celé čísla \\
2. súčet susedov každého vrcholu je rovnaký \\
3. súčet druhých mocnín susedov každého vrcholu je rovnaký \\
tak $G$ nazveme \textbf{vrcholovo bimagickým grafom}. \\

\textbf{Veta 1.1}: Nech $G$ je vrcholovo bimagický graf. Ak $G$ obsahuje dvojicu vrcholov stupňa 1, potom majú spoločného suseda. \\

\textbf{Dôkaz}: Sporom. Nech $G$ obsahuje dva vrcholy $u,v$ stupňa 1, ktoré nemajú spoločného suseda. Nech $x$ je hodnota vrcholu $u$. Nech $y$ je hodnota vrcholu $v$. \\

Nech sú vrcholy $u,v$ susedné. Podľa $u$ má graf magický súčet $y$ a podľa $v$ má graf magický súčet $x$. Z toho vyplýva $x = y$, čo je spor s tým, že vrcholom sú priradené navzájom rôzne čísla. \\

Nech majú vrcholy $u,v$ rôznych susedov $w_1, w_2$. Označme hodnoty týchto vrcholov $z_1, z_2$. Podľa $u$ má graf magický súčet $z_1$ a podľa $v$ má graf magický súčet $z_2$. Z toho vyplýva $z_1 = z_2$, čo je opäť spor. \\\\

\textbf{Veta 1.2}: Nech $G$ je vrcholovo bimagický graf. Potom majú všetky vrcholy stupňa 2 rovnakú množinu susedov. \\

\textbf{Dôkaz}: Sporom. Nech $G$ obsahuje dva vrcholy $u,v$ stupňa 2, ktoré nemajú rovnakú množinu susedov. Nech $x$ je hodnota vrcholu $u$. Nech $y$ je hodnota vrcholu $v$. \\

Nech sú vrcholy $u,v$ susedné. Nech $w_1$ je druhý sused $u$ a $z_1$ je jeho hodnota. Nech $w_2$ je druhý sused $v$ a $z_2$ je jeho hodnota. Podľa $u$ má graf magický súčet $y + z_1$ a podľa $v$ má graf magický súčet $x + z_2$. Podľa $u$ má graf bimagický súčet $y^2 + z^2_1$ a podľa $v$ má graf bimagický súčet $x^2 + z^2_2$.  To znamená, že $x + z_2 = y + z_1$ a zároveň $x^2 + z^2_2 = y^2 + z^2_1$. Z duplikačnej lemy potom vyplýva, že $y = x$ alebo $y = z_2$, čo je spor s tým, že vrcholom sú priradené navzájom rôzne čísla. \\

Nech majú vrcholy $u,v$ práve jedného spoločného suseda $w$, jeho hodnotu označíme $z$. Nech $w_1$ je druhý sused $u$ a $z_1$ je jeho hodnota. Nech $w_2$ je druhý sused $v$ a $z_2$ je jeho hodnota. Podľa $u$ má graf magický súčet $z + z_1$ a podľa $v$ má graf magický súčet $z + z_2$. Z toho vyplýva $z_1 = z_2$, čo je spor. \\

Nech majú vrcholy $u,v$ odlišných susedov. Nech $w_1, w_2$ sú susedia $u$, pričom ich hodnoty sú $z_1, z_2$. Nech $w_3, w_4$ sú susedia $v$, pričom ich hodnoty sú $z_3, z_4$. Podľa $u$ má graf magický súčet $z_1 + z_2$ a podľa $v$ má graf magický súčet $z_3 + z_4$. Podľa $u$ má graf bimagický súčet $z^2_1 + z^2_2$ a podľa $v$ má graf bimagický súčet $z^2_3 + z^2_4$. To znamená, že $z_1 + z_2 = z_3 + z_4$ a zároveň $z^2_1 + z^2_2 = z^2_3 + z^2_4$. Z duplikačnej lemy potom vyplýva, že $z_3 = z_1$ alebo $z_3 = z_2$, čo je opäť rovnaký spor. \\\\

\textbf{Veta 1.3}: Nech $G$ je vrcholovo bimagický graf. Potom má každá dvojica nesusedných vrcholov stupňa 3 buď rovnakú množinu susedov, alebo nemá spoločného suseda.  \\

\textbf{Dôkaz}: Sporom. Nech $G$ obsahuje dva nesusedné vrcholy $u,v$ stupňa 3, ktoré majú práve jedného alebo dvoch spoločných susedov. Nech $x$ je hodnota vrcholu $u$. Nech $y$ je hodnota vrcholu $v$.  \\

Nech majú vrcholy $u,v$ práve jedného spoločného suseda $w$, jeho hodnotu označíme $z$. Nech $w_1, w_2$ sú zvyšní susedia $u$ a $z_1, z_2$ sú ich hodnoty. Nech $w_3, w_4$ sú zvyšní susedia $v$ a $z_3, z_4$ sú ich hodnoty. Podľa $u$ má graf magický súčet $z + z_1 + z_2$ a podľa $v$ má graf magický súčet $z + z_3 + z_4$. Podľa $u$ má graf bimagický súčet $z^2 + z^2_1 + z^2_2$ a podľa $v$ má graf magický súčet $z^2 + z^2_3 + z^2_4$. To znamená, že $z_1 + z_2 = z_3 + z_4$ a zároveň $z^2_1 + z^2_2 = z^2_3 + z^2_4$. Z duplikačnej lemy potom vyplýva, že $z_3 = z_1$ alebo $z_3 = z_2$, čo je spor s tým, že vrcholom sú priradené navzájom rôzne čísla. \\

Nech majú vrcholy $u,v$ práve dvoch spoločných susedov $w_1, w_2$, ich hodnoty označíme $z_1, z_2$. Nech $w_3$ je zvyšný sused $u$ a $z_3$ je jeho hodnota. Nech $w_4$ je zvyšný sused $v$ a $z_4$ je jeho hodnota. Podľa $u$ má graf magický súčet $z_1 + z_2 + z_3$ a podľa $v$ má graf magický súčet $z_1 + z_2 + z_4$. Z toho vyplýva $z_3 = z_4$, čo je opäť spor. \\\\

\textbf{Veta 1.4}: Nech $G$ je vrcholovo bimagický graf a $u,v$ sú nejaké jeho dva vrcholy. Nech $x$ je počet susedov vrcholu $u$, ktoré nie sú susedmi vrcholu $v$. Nech $y$ je počet susedov vrcholu $v$, ktoré nie sú susedmi vrcholu $u$. Potom platí: \\
(i) $x = 0 \iff y = 0$ \\
(ii) $x,y \neq 1$ \\
(iii) $(x,y) \neq (2,2)$ \\

\textbf{Dôkaz}: Ak pre vrcholy $u,v$ zrátame magický alebo bimagický súčet, ich spoloční susedia budú zarátaní na oboch stranách. Stačí sa preto venovať magickému a bimagickému súčtu vrcholov, ktoré nie sú zároveň susedmi $u$ aj $v$ (tých je $x$, resp. $y$). Sporom budeme predpokladať, že $G$ je vrcholovo bimagický a neplatí (i), (ii) alebo (iii). To znamená, že nasledovná sústava má riešenie: \\
$\sum_{k=1}^{x} a_k = \sum_{k=1}^{y} b_k$ \\
$\sum_{k=1}^{x} a^2_k = \sum_{k=1}^{y} b^2_k$ \\
ak $a_1, ... , a_x, b_1, ... , b_y$ sú navzájom rôzne kladné celé čísla. \\

Ak neplatí (i), tak BUNV nech $x > 0$ a $y = 0$. Druhá rovnica by potom mala tvar $\sum_{k=1}^{x} a^2_k = 0$. Jediné riešenie tejto rovnice je zjavne nulové, čo je spor s tým, že vo vrcholovo bimagickom grafe sú vrcholom priradené kladné čísla.  \\

Ak neplatí (ii), tak BUNV nech $y = 1$. Potom dostaneme sústavu z mocninovej lemy, o ktorej vieme, že nemá riešenie (čo je spor). \\

Ak neplatí (iii), tak musí platiť $a_1 + a_2 = b_1 + b_2$ aj $a^2_1 + a^2_2 = b^2_1 + b^2_2$. Z duplikačnej lemy potom vyplýva $b_1 = a_1$ alebo $b_1 = a_2$,  čo je spor s tým, že vo vrcholovo bimagickom grafe sú vrcholom priradené navzájom rôzne čísla. \\\\

\textbf{Veta 1.5}: Nech $m,n \in \mathbb{N^+}$, pričom $m,n \geq 2$ a $(m, n) \neq (2, 2)$. Nech $A,B \subset \mathbb{N^+}$, pričom $|A| = m - 1$, $|B| = n - 1$. Nech $S_A = \sum_{k=1}^{m-1} A_k$, $S_B = \sum_{k=1}^{n-1} B_k$, $T_A = \sum_{k=1}^{m-1} A^2_k$,  $T_B = \sum_{k=1}^{n-1} B^2_k$ a platí: \\
1. $A \cap B = \emptyset$ \\
2. $S_A < S_B$ \\
3. $(S_A - S_B)^2 < T_B - T_A$ \\
4. $\frac{\frac{T_B - T_A}{S_B - S_A} \pm (S_B - S_A)}{2} \notin A \cup B$ \\

Nech $C = \{A^\prime_1, ... , A^\prime_m, B^\prime_1, ... , B^\prime_n\}$ je množina čísel definovaná takto: \\
$A^\prime_k = A_k (S_B - S_A)$ pre $k \in \{1, ... , m-1\}$ \\
$A^\prime_m = \frac{T_B - T_A + (S_A - S_B)^2}{2}$ \\
$B^\prime_k = B_k (S_B - S_A)$ pre $k \in \{1, ... , n-1\}$ \\
$B^\prime_n = \frac{T_B - T_A - (S_A - S_B)^2}{2}$ \\

Potom $C$ obsahuje navzájom rôzne kladné celé čísla a platí \\
(i) $\sum_{k=1}^{m} A^\prime_k = \sum_{k=1}^{n} B^\prime_k$ \\
(ii) $\sum_{k=1}^{m} (A^\prime_k)^2 = \sum_{k=1}^{n} (B^\prime_k)^2$ \\

\textbf{Dôkaz}: Výpočtom. \\

\textbf{Dôsledok 1.5}:  Nech $m,n \in \mathbb{N^+}$, pričom $m,n \geq 2$ a $(m, n) \neq (2, 2)$. Nech vieme zostrojiť množinu $C$ z vety 1.5. Potom $K _{m,n}$ je vrcholovo bimagický. \\

\textbf{Dôkaz}: Vrcholom v jednej partícii priradím hodnoty $A^\prime_1$ až $A^\prime_m$ a druhej $B^\prime_1$ až $B^\prime_n$. Magické súčty sú iba $\sum_{k=1}^{m} A^\prime_k$ a $\sum_{k=1}^{n} B^\prime_k$, podľa vety 1.5 sú rovnaké. Bimagické súčty sú iba $\sum_{k=1}^{m} (A^\prime_k)^2$ a $\sum_{k=1}^{n} (B^\prime_k)^2$, podľa vety 1.5 sú tiež rovnaké. Podmienky z vety zároveň zaručia, že vrcholom budú priradené navzájom rôzne kladné celé čísla. \\

\textbf{Poznámka 1.5}: Jedno z riešení je $K _{2,3}$, pričom $A^\prime_1 = 4$, $A^\prime_2 = 5$, $B^\prime_1 = 2$, $B^\prime_2 = 6$, $B^\prime_3 = 1$. Toto riešenie vzniklo algoritmickým použitím vety 1.5 na množiny $A = \{2\}$ a $B = \{1,3\}$. Je veľký predpoklad, že takéto množiny sa dajú zostrojiť pre všetky prípustné $m,n$, ale zatiaľ sa mi to nepodarilo dokázať. \\\\

\textbf{Veta 1.6}: Jediný kubický graf, ktorý je vrcholovo bimagický, je $K_{3,3}$. \\

\textbf{Dôkaz}: Nech $G$ je kubický graf, o ktorom vieme, že je vrcholovo bimagický. V grafe $G$ určite existujú dva susedné vrcholy $u,v$. Nech $w_1, w_2$ sú zvyšní susedia $u$. Nech $w_3, w_4$ sú zvyšní susedia $v$. Vrcholy $u,v$ sú susedné a majú stupeň 3. Rozoberieme všetky možnosti: \\

1. Nech sú $w_1, w_2, w_3, w_4$ navzájom rôzne. Vrcholy $w_1$ a $v$ majú spoločného suseda $u$, takže z vety 1.3 vyplýva, že sú buď susedné, alebo musia mať všetkých susedov spoločných. Susedné byť nemôžu, pretože potom by mal $v$ stupeň aspoň 4. Teda v $G$ musí existovať hrana $w_1 w_3$ aj hrana $w_1 w_4$. \\

Zároveň, vrcholy $w_2$ a $v$ majú tiež spoločného suseda $u$, takže z vety 1.3 vyplýva, že sú buď susedné, alebo musia mať všetkých susedov spoločných. Susedné byť nemôžu, pretože potom by mal $v$ stupeň aspoň 4. Teda v $G$ musí existovať hrana $w_2 w_3$ aj hrana $w_2 w_4$. \\

Tým sme dostali graf $K_{3,3}$, ktorý vieme vrcholovo bimagicky ohodnotiť napríklad tak, že jednej partícií priradím hodnoty $1,5,6$ a druhej $2,3,7$. (Vieme použiť aj vetu 1.5 pre $m = n = 3$) \\\\

2. Nech $w_1 = w_3$ a $w_2 \neq w_4$. Vrcholy $w_1$ a $w_2$ majú spoločného suseda $u$, takže z vety 1.3 vyplýva, že sú buď susedné, alebo musia mať všetkých susedov spoločných. Teda v $G$ musí existovať hrana $w_1 w_2$ alebo hrana $w_2 v$. \\

Zároveň, vrcholy $w_1$ a $w_4$ majú spoločného suseda $v$, takže z vety 1.3 vyplýva, že sú buď susedné, alebo musia mať všetkých susedov spoločných. Teda v $G$ musí existovať hrana $w_1 w_4$ alebo hrana $w_4 u$. \\

Lenže ak z každých dvoch potenciálnych hrán pridáme do $G$ aspoň jednu, tak jeden z vrcholov $u, v, w_1$ bude mať stupeň aspoň 4, čo je spor s tým, že graf je kubický. \\\\

3. Nech $w_1 = w_3$ a $w_2 = w_4$. Vrcholy $w_1$ a $w_2$ majú spoločných susedov $u,v$, takže z vety 1.3 vyplýva, že sú buď susedné, alebo musia mať všetkých susedov spoločných. Teda v $G$ musí existovať hrana $w_1 w_2$ alebo dvojice hrán $w_1 w_5$ a $w_2 w_5$ pre nejaký nový vrchol $w_5$. \\

Ak je v $G$ hrana $w_1 w_2$, dostaneme graf $K_4$. O ňom sa môžeme ľahko presvedčiť, že nie je vrcholovo bimagický. Ak priradíme vrcholom hodnoty $a,b,c,d$, tak musí platiť, že magické súčty $a+b+c, a+b+d, a+c+d, b+c+d$ sú rovnaké. To je možné len v prípade, že $a = b = c = d$, čo je spor s tým, že vrcholom sú priradené navzájom rôzne čísla. \\

Ak sú v $G$ hrany $w_1 w_5$ aj $w_2 w_5$ pre nejaký nový vrchol $w_5$, tiež dôjdeme k sporu. Vrcholy $u$ a $w_5$ majú spoločných susedov $w_1, w_2$, takže z vety 1.3 vyplýva, že sú buď susedné, alebo musia mať všetkých susedov spoločných. Susedné byť nemôžu, pretože potom by mal $u$ stupeň aspoň 4. Teda by v $G$ musela existovať hrana $v w_5$, čo tiež nie je možné, pretože potom by mal $v$ stupeň aspoň 4. \\\\

\textbf{Veta 1.7}: Nech $G$ je vrcholovo bimagický regulárny graf. Potom existuje vrcholovo bimagické ohodnotenie grafu $G$ také, že jeho najmenšia hodnota je 1. \\

\textbf{Dôkaz}: Zoberme si ľubovoľné vrcholovo bimagické ohodnotenie grafu $G$. Nech $n$ je najmenšia hodnota z nich. Keďže je regulárny, tak každý magický aj bimagický súčet je zložený z rovnakého počtu členov. Z posunovej lemy potom vyplýva, že ku všetkým ohodnoteniam vrcholov môžeme pripočítať alebo odpočítať nejakú konštantu $x$. Ak odpočítame $a-1$, zjavne dostaneme graf, ktorého najmenšia hodnota je 1. \\\\

\textbf{Definícia 1.8}: Nech $G$ je vrcholovo bimagický graf s $n$ vrcholmi. Ak sú vrcholom priradené čísla z množiny $\{1, 2, ... , n\}$, tak $G$ nazveme \textbf{perfektne vrcholovo bimagickým grafom}. \\\\

Existuje perfektne vrchovo bimagický graf? Keďže zatiaľ vieme vrchovo bimagicky ohodnotiť len kompletné bipartitné grafy, musíme skúmať tie. \\\\

Hrubou silou je dokázané, že existuje perfektne vrcholovo bimagický kompletný bipartitný graf. Pre $n \in \{7, 8, 11, 12\}$ existuje práve jedno perfektné ohodnotenie: \\
$n = 7 \rightarrow \{1, 2, 4, 7\} ~|~ \{3, 5, 6\}$ \\
$n = 8 \rightarrow \{1, 4, 6, 7\} ~|~ \{2, 3, 5, 8\}$ \\
$n = 11 \rightarrow \{1, 3, 4, 5, 9, 11\} ~|~ \{2, 6, 7, 8, 10\}$ \\
$n = 12 \rightarrow \{1, 3, 7, 8, 9, 11\} ~|~ \{2, 4, 5, 6, 10, 12\}$ \\\\

Pre $n = 15$ existuje 7 perfektných ohodnotení, pre $n = 16$ existuje 12 perfektných ohodnotení a pre väčšie $n$ tieto hodnoty rastú. \\\\

\textbf{Veta 1.9}: Perfektne vrcholovo bimagický kompletný bipartitný graf s $n$ vrcholmi existuje práve vtedy, keď $n = 4k$ alebo $n = 4k-1$ pre $k \in \mathbb{N^+}$. \\

\textbf{Dôkaz}: Najprv dokážeme, že ak $n = 4k$ alebo $n = 4k-1, k \in \mathbb{N^+}, k \geq 2$, tak existuje perfektný vrcholovo bimagický kompletný bipartitný graf, ktorý má $n$ vrcholov. Stačí nám dokázať, že dané tvrdenie platí pre všetky $n$ tvaru $8k-1, 8k, 8k+3, 8k+4$. To urobíme matematickou indukciou vzhľadom na $k$. Pre $k = 1$ existujú perfektné ohodnotenia uvedené hore. \\

Indukčný krok je potom jednoduchý. Uvedieme ho pre prípad $n = 8k$, ostatné z nich sú analogické. Predpokladajme, že pre $n = 8k$ existuje perfektné ohodnotenie. Pre $n = 8(k+1)$ ho zostrojíme nasledovne: \\
1) vezmeme perfektné ohodnotenie pre $n = 8k$ (ostanú nám nepriradené čísla $8k+1, ... 8k+8$) \\
2) na jednu stranu pridáme čísla $8k+1, 8k+4, 8k+6, 8k+7$ a na druhú stranu $8k+2, 8k+3, 8k+5, 8k+8$ \\
Na obe strany sme pridali čísla s rovnakým súčtom aj rovnakým súčtom druhých mocnín. Ak bolo pôvodné ohodnotenie perfektné, tak aj nové ohodnotenie pre $n = 8(k+1)$ je perfektné (čbtd). \\

Ak $n = 4k+1$ alebo $n = 4k+2, k \in \mathbb{N}$, tak požadovaný graf neexistuje. Predpokladajme sporom, že taký graf existuje. Potom sa množina $\{1, 2, ... , n\}$ dá rozdeliť na dve disjunktné podmnožiny s rovnakým súčtom aj súčtom druhých mocnín. Súčet tejto množiny je $\frac{n(n+1)}{2}$. Každá podmnožina by teda musela mať súčet $\frac{n(n+1)}{4}$. Lenže ak  $n = 4k+1$ alebo $n = 4k+2, k \in \mathbb{N}$, tak výraz $\frac{n(n+1)}{4}$ nie je celé číslo, čo je spor. \\\\

\textbf{Hypotézy 1}: \\
- Existuje graf, ktorý je vrcholovo bimagický a nie je kompletný bipartitný? \\

\textbf{Definícia 2}: Nech $G$ je súvislý jednoduchý netriviálny graf. Ak existuje hranové ohodnotenie grafu $G$ také, že platí: \\
1. hranám sú priradené navzájom rôzne kladné celé čísla \\
2. súčet incidentných hrán každého vrcholu je rovnaký \\
3. súčet druhých mocnín incidentných hrán každého vrcholu je rovnaký \\
tak $G$ nazveme \textbf{hranovo bimagickým grafom}. \\

Jeden z hranovo bimagických grafov je cesta na dvoch vrcholoch (s ľubovoľným kladným ohodnotením). Zaujímavá skupina potenciálne hranovo bimagických grafov je $K _{n,n}$: sú ekvivalentné semibimagickým štvorcom veľkosti $n \times n$. A keďže už poznáme semibimagické štvorce veľkosti $4 \times 4$ a väčšie, tak $K _{n,n}$ je hranovo bimagický pre $n \geq 4$.  \\

\textbf{Veta 2.1}: Nech $G$ je hranovo bimagický graf, ktorý má aspoň tri vrcholy. Potom $G$ neobsahuje vrchol stupňa 1. \\

\textbf{Dôkaz}: Sporom. Nech $u$ je vrchol stupňa 1, $v$ je jeho jediný sused a $x$ je hodnota hrany medzi vrcholmi $u,v$. Potom podľa $u$ musí platiť, že magický súčet je $x$. Lenže ak je $G$ súvislý a má aspoň tri vrcholy, tak vrchol $v$ musí mať ešte ďalší susedný vrchol $w$. Nech $y$ je hodnota hrany medzi vrcholmi $v,w$. Potom však podľa $v$ musí platiť, že magický súčet je aspoň $x + y > x$, čo je spor. \\\\ 

\textbf{Veta 2.2}: Nech $G$ je hranovo bimagický graf. Potom $G$ neobsahuje vrchol stupňa 2. \\

\textbf{Dôkaz}: Sporom. Nech $u$ je vrchol stupňa 2. Označme jeho susedov $v,w$. Nech $b,c$ sú ohodnotenia hrán medzi $u,v$, resp. $u,w$. Nech $a_1, a_2, ... , a_n$ sú ohodnotenia hrán, ktoré sú incidentné s $w$ okrem hrany $uw$. Podľa $u$ musí platiť, že magický súčet je $b+c$ a bimagický súčet je $b^2 + c^2$. Podľa $w$ musí platiť, že magický súčet je $c + \sum_{k=1}^{n} a_n$ a bimagický súčet je $c^2 + \sum_{k=1}^{n} a^2_n$. Z toho vyplýva, že by sústava z mocninovej lemy mala riešenie, čo je spor. \\

\textbf{Dôsledok 2.2}: Ak má hranovo bimagický graf aspoň tri vrcholy, tak všetky jeho vrcholy majú stupeň aspoň 3. \\\\

\textbf{Veta 2.3}: Nech $G$ je hranovo bimagický graf, ktorý má aspoň tri vrcholy. Nech $u,v$ sú ľubovoľné dva susedné vrcholy. Potom $max \{d(u), d(v)\} \geq 4$. \\

\textbf{Dôkaz}: Sporom. Predpokladajme, že existuje dvojica susedných vrcholov $u,v$ takých, že $max \{d(u), d(v)\} < 4$. Z dôsledku 2.2 potom vyplýva, že nutne $d(u) = d(v) = 3$. Označme $x$ hodnotenie hrany medzi $u,v$. Označme $y_1, y_2$ zvyšné hodnotenia hrán z $u$ a $z_1, z_2$ zvyšné hodnotenia hrán z $v$. Podľa $u$ musí platiť, že magický súčet je $x + y_1 + y_2$ a bimagický súčet je $x^2 + y^2_1 + y^2_2$. Podľa $v$ musí platiť, že magický súčet je $x + z_1 + z_2$ a bimagický súčet je $x^2 + z^2_1 + z^2_2$. Teda musí platiť $y_1 + y_2 = z_1 + z_2$ aj $y^2_1 + y^2_2 = z^2_1 + z^2_2$. Z duplikačnej lemy potom vyplýva, že $z_1 = y_1$ alebo $z_1 = y_2$, čo je spor s tým, že hranám budú priradené navzájom rôzne čísla.  \\

\textbf{Dôsledok 2.3}: Kubické grafy nie sú hranovo bimagické. \\\\

\textbf{Veta 2.4}: Nech $G$ je hranovo bimagický regulárny graf. Potom existuje hranovo bimagické ohodnotenie grafu $G$ také, že jeho najmenšia hodnota je 1. \\

\textbf{Dôkaz}: Podobný ako dôkaz vety 1.7, akurát konštantu neodpočítame od ohodnotení vrcholov, ale od ohodnotení hrán. \\\\

\textbf{Veta 2.5}: Existuje graf, ktorý je hranovo bimagický a nie je kompletný bipartitný. \\

\textbf{Dôkaz}: Nech $G$ je hranovo bimagický kompletný bipartitný regulárny graf s nejakým ohodnotením. Nech $e$ je hrana, ktorá má najmenšiu hodnotu. Keďže je regulárny, tak podľa posunovej lemy môžeme od všetkých hrán odrátať hodnotu hrany $e$. Tým dostaneme hranovo bimagický kompletný bipartitný graf, ktorý má práve jednu nulovú hranu $e$. Zjavne vieme túto hranu z grafu odstrániť a magická aj bimagická podmienka ostane zachovaná. Graf $G - e$ je teda hranovo bimagický a pritom nie je kompletný bipartitný. \\\\

\textbf{Definícia 2.6}: Nech $G$ je hranovo bimagický graf s $n$ vrcholmi. Ak sú hranám priradené čísla z množiny $\{1, 2, ... , n\}$, tak $G$ nazveme \textbf{perfektne hranovo bimagickým grafom}. \\\\

Georges Pfeffermann našiel v 19. storočí bimagický štvorec veľkosti $8 \times 8$, v ktorom použil všetky čísla z množiny $\{1, 2, ... , 64\}$. Vieme teda, že existuje perfektne hranovo bimagický graf - je ním kompletný bipartitný graf na $8$ vrcholoch. \\\\

\textbf{Hypotézy 2}: \\
- Existuje graf, ktorý je hranovo bimagický a nie je kompletný bipartitný alebo kompletný bipartitný bez jednej hrany? \\\\

\textbf{Definícia 3}: Nech $G$ je súvislý jednoduchý netriviálny graf. Ak existuje vrcholové ohodnotenie grafu $G$ také, že platí: \\
1. vrcholom sú priradené navzájom rôzne kladné celé čísla \\
2. súčet susedov každého vrcholu je rovnaký \\
3. súčin susedov každého vrcholu je rovnaký \\
tak $G$ nazveme \textbf{vrcholovo multiplikatívnym magickým grafom}. \\

\textbf{Veta 3.1}: Nech $G$ je vrcholovo multiplikatívny magický graf. Ak $G$ obsahuje dvojicu vrcholov stupňa 1, potom majú spoločného suseda. \\

\textbf{Dôkaz}: rovnaký ako dôkaz vety 1.1 \\

\textbf{Veta 3.2}: Nech $G$ je vrcholovo multiplikatívny magický graf. Potom majú všetky vrcholy stupňa 2 rovnakú množinu susedov. \\

\textbf{Dôkaz}: rovnaký ako dôkaz vety 1.2, akurát použijeme multiplikatívny súčet a nie bimagický \\

\textbf{Veta 3.3}: Nech $G$ je vrcholovo multiplikatívny magický graf. Potom má každá dvojica nesusedných vrcholov stupňa 3 buď rovnakú množinu susedov, alebo nemá spoločného suseda.  \\

\textbf{Dôkaz}: rovnaký ako dôkaz vety 1.3, akurát použijeme multiplikatívny súčet a nie bimagický \\

\textbf{Veta 3.4}: Kompletný bipartitný graf nemôže byť perfektne vrcholovo multiplikatívny magický. \\

\textbf{Dôkaz}: Sporom. Nech $G$ je kompletný bipartitný a perfektne vrcholovo multiplikatívny magický graf s $n$ vrcholmi. Nech $p$ je najväčšie prvočíslo, ktoré neprevyšuje $n$. Toto prvočíslo sa môže vyskytovať iba v jednej partícii. To však znamená, že súčin oboch partícii nemôže byť rovnaký (jeden súčin bude mať $p$ vo svojom rozklade a druhý nie). \\\\

\textbf{Definícia 4}: Nech $G$ je súvislý jednoduchý netriviálny graf. Ak existuje hranové ohodnotenie grafu $G$ také, že platí: \\
1. hranám sú priradené navzájom rôzne kladné celé čísla \\
2. súčet incidentných hrán každého vrcholu je rovnaký \\
3. súčin incidentných hrán každého vrcholu je rovnaký \\
tak $G$ nazveme \textbf{hranovo multiplikatívnym magickým grafom}. \\

\textbf{Veta 4.1}: Nech $G$ je hranovo multiplikatívny magický graf, ktorý má aspoň tri vrcholy. Potom $G$ neobsahuje vrchol stupňa 1. \\

\textbf{Dôkaz}: rovnaký ako dôkaz vety 2.1 \\

\end{document}